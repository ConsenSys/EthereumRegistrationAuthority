package tech.pegasys.era;

import org.web3j.protocol.core.RemoteCall;
import tech.pegasys.era.internal.AutoGeneratedFinder;

/**
 * Finder Java Wrapper Class.
 */
public class Finder {

    private RemoteCall<AutoGeneratedFinder> finderAutoGenWrapper;
    private AutoGeneratedFinder finderAutoGenWrapperReal;

    public Finder(RemoteCall<AutoGeneratedFinder> finderAutoGenWrapper) {
        this.finderAutoGenWrapper = finderAutoGenWrapper;
    }

    public boolean isReady() {
        return finderAutoGenWrapperReal != null;
    }

    public void waitUntilReady() {
        // Convert from RemoteCall to Concrete Class
        while (true) {
            try {
                finderAutoGenWrapperReal = finderAutoGenWrapper.send();
                break;
            } catch (Exception e) {
            }
        }
    }
}
